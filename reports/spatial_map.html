
<!DOCTYPE html>
<html>
<head>
    <title>Spatial Storylet Map</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 100%;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .stat {
            text-align: center;
        }
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        .stat-label {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }
        .map-container {
            text-align: center;
            overflow: auto;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: linear-gradient(45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(-45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #f8f9fa 75%), 
                        linear-gradient(-45deg, transparent 75%, #f8f9fa 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
        .storylet {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .storylet:hover {
            transform: scale(1.1);
        }
        .storylet-node {
            fill: #667eea;
            stroke: #fff;
            stroke-width: 3;
        }
        .storylet-text {
            fill: white;
            font-size: 12px;
            font-weight: bold;
            text-anchor: middle;
            dominant-baseline: central;
            pointer-events: none;
        }
        .connection {
            stroke: #feca57;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
            opacity: 0.7;
        }
        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            max-width: 300px;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
        }
        .legend {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .legend-item {
            display: inline-flex;
            align-items: center;
            margin-right: 20px;
            margin-bottom: 5px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üó∫Ô∏è Spatial Storylet Map</h1>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value">31</div>
                <div class="stat-label">Total Storylets</div>
            </div>
            <div class="stat">
                <div class="stat-value">31</div>
                <div class="stat-label">Positioned</div>
            </div>
            <div class="stat">
                <div class="stat-value">257</div>
                <div class="stat-label">Connections</div>
            </div>
            <div class="stat">
                <div class="stat-value">8√ó8</div>
                <div class="stat-label">Grid Size</div>
            </div>
        </div>
        
        <div class="map-container">
            <svg width="1080" height="1080" id="map-svg">
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                            refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#feca57" />
                    </marker>
                </defs>
                
                <!-- Grid lines -->
                <defs>
                    <pattern id="grid" width="120" height="120" patternUnits="userSpaceOnUse">
                        <path d="M 120 0 L 0 0 0 120" fill="none" stroke="#ddd" stroke-width="1"/>
                    </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#grid)" opacity="0.5" />
                
                <!-- Connections -->
        
                <path class="connection" d="M 660,540 Q 540.0,400.0 420,300"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 660,540 Q 540.0,460.0 420,420"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 660,540 Q 720.0,580.0 780,660"
                      data-choice="Travel to Glimmering Oasis (‚Üí Glimmering Oasis)" />
            
                <path class="connection" d="M 660,540 Q 540.0,580.0 420,660"
                      data-choice="Travel to Glimmering Oasis (‚Üí Glimmering Oasis)" />
            
                <path class="connection" d="M 660,540 Q 720.0,460.0 780,420"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 660,540 Q 660.0,640.0 660,780"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 660,540 Q 480.0,700.0 300,900"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 660,540 Q 600.0,460.0 540,420"
                      data-choice="Return to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 660,540 Q 600.0,700.0 540,900"
                      data-choice="Return to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 660,540 Q 780.0,460.0 900,420"
                      data-choice="Return to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 660,540 Q 480.0,460.0 300,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 660,540 Q 540.0,340.0 420,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 660,540 Q 480.0,640.0 300,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 660,540 Q 540.0,640.0 420,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 660,540 Q 600.0,520.0 540,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 660,540 Q 600.0,340.0 540,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 660,540 Q 480.0,400.0 300,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 660,540 Q 480.0,520.0 300,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 660,540 Q 420.0,460.0 180,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,540 Q 540.0,460.0 540,420"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 540,540 Q 540.0,700.0 540,900"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 540,540 Q 720.0,460.0 900,420"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 540,540 Q 420.0,460.0 300,420"
                      data-choice="Travel to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 540,540 Q 480.0,340.0 420,180"
                      data-choice="Travel to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 540,540 Q 420.0,640.0 300,780"
                      data-choice="Travel to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 540,540 Q 660.0,460.0 780,420"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 540,540 Q 600.0,640.0 660,780"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 540,540 Q 420.0,700.0 300,900"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 540,540 Q 480.0,640.0 420,780"
                      data-choice="Return to Ethereal Bridge (‚Üí Ethereal Bridge)" />
            
                <path class="connection" d="M 540,540 Q 480.0,640.0 420,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,540 Q 420.0,520.0 300,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,540 Q 360.0,460.0 180,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,540 Q 420.0,580.0 300,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,540 Q 540.0,580.0 540,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,540 Q 480.0,520.0 420,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,540 Q 540.0,640.0 540,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,540 Q 600.0,460.0 660,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,420 Q 600.0,460.0 660,540"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 540,420 Q 600.0,340.0 660,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 540,420 Q 660.0,460.0 780,540"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 540,420 Q 600.0,520.0 660,660"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 540,420 Q 540.0,340.0 540,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 540,420 Q 660.0,340.0 780,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 540,420 Q 480.0,640.0 420,900"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 540,420 Q 480.0,340.0 420,300"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 540,420 Q 480.0,400.0 420,420"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 540,420 Q 540.0,460.0 540,540"
                      data-choice="Travel to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 540,420 Q 540.0,280.0 540,180"
                      data-choice="Travel to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 540,420 Q 420.0,340.0 300,300"
                      data-choice="Travel to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 540,420 Q 540.0,520.0 540,660"
                      data-choice="Return to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 540,420 Q 480.0,460.0 420,540"
                      data-choice="Return to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 540,420 Q 540.0,580.0 540,780"
                      data-choice="Return to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 540,420 Q 600.0,400.0 660,420"
                      data-choice="Return to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 540,420 Q 420.0,400.0 300,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,420 Q 480.0,280.0 420,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,420 Q 420.0,580.0 300,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,420 Q 420.0,520.0 300,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,420 Q 660.0,400.0 780,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,420 Q 600.0,580.0 660,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,420 Q 420.0,640.0 300,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,420 Q 660.0,520.0 780,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,420 Q 480.0,520.0 420,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 480.0,640.0 540,540"
                      data-choice="Travel to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 420,780 Q 480.0,460.0 540,180"
                      data-choice="Travel to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 420,780 Q 360.0,520.0 300,300"
                      data-choice="Travel to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 420,780 Q 480.0,580.0 540,420"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 420,780 Q 480.0,820.0 540,900"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 420,780 Q 660.0,580.0 900,420"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 420,780 Q 480.0,700.0 540,660"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 420,780 Q 420.0,640.0 420,540"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 420,780 Q 480.0,760.0 540,780"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 420,780 Q 540.0,580.0 660,420"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 420,780 Q 360.0,640.0 300,540"
                      data-choice="Return to Celestial Amphitheater (‚Üí Celestial Amphitheater)" />
            
                <path class="connection" d="M 420,780 Q 300.0,580.0 180,420"
                      data-choice="Return to Celestial Amphitheater (‚Üí Celestial Amphitheater)" />
            
                <path class="connection" d="M 420,780 Q 600.0,580.0 780,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 540.0,760.0 660,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 360.0,820.0 300,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 360.0,700.0 300,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 540.0,640.0 660,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 540.0,520.0 660,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 600.0,640.0 780,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 540.0,700.0 660,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 480.0,520.0 540,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 600.0,520.0 780,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 420.0,820.0 420,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 360.0,580.0 300,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 420.0,460.0 420,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,780 Q 360.0,760.0 300,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 660.0,640.0 540,660"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 780,660 Q 600.0,580.0 420,540"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 780,660 Q 660.0,700.0 540,780"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 780,660 Q 720.0,520.0 660,420"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 780,660 Q 660.0,520.0 540,420"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 780,660 Q 660.0,760.0 540,900"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 780,660 Q 840.0,520.0 900,420"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 780,660 Q 600.0,460.0 420,300"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 780,660 Q 600.0,520.0 420,420"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 780,660 Q 540.0,520.0 300,420"
                      data-choice="Return to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 780,660 Q 600.0,400.0 420,180"
                      data-choice="Return to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 780,660 Q 540.0,700.0 300,780"
                      data-choice="Return to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 780,660 Q 720.0,580.0 660,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 720.0,460.0 660,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 780.0,580.0 780,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 720.0,640.0 660,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 660.0,460.0 540,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 780.0,460.0 780,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 600.0,760.0 420,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 540.0,580.0 300,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 480.0,520.0 180,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 660.0,520.0 540,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 660.0,760.0 540,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,660 Q 840.0,520.0 900,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,420 Q 480.0,460.0 660,540"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,420 Q 480.0,340.0 660,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,420 Q 540.0,460.0 780,540"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,420 Q 480.0,520.0 660,660"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,420 Q 420.0,340.0 540,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,420 Q 540.0,340.0 780,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,420 Q 360.0,640.0 420,900"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,420 Q 420.0,520.0 540,660"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 300,420 Q 360.0,460.0 420,540"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 300,420 Q 420.0,580.0 540,780"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 300,420 Q 480.0,400.0 660,420"
                      data-choice="Travel to Spire of Timeless Dreams (‚Üí Spire of Timeless Dreams)" />
            
                <path class="connection" d="M 300,420 Q 540.0,520.0 780,660"
                      data-choice="Travel to Glimmering Oasis (‚Üí Glimmering Oasis)" />
            
                <path class="connection" d="M 300,420 Q 360.0,520.0 420,660"
                      data-choice="Travel to Glimmering Oasis (‚Üí Glimmering Oasis)" />
            
                <path class="connection" d="M 300,420 Q 420.0,460.0 540,540"
                      data-choice="Return to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 300,420 Q 420.0,280.0 540,180"
                      data-choice="Return to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 300,420 Q 300.0,340.0 300,300"
                      data-choice="Return to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 300,420 Q 300.0,520.0 300,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,420 Q 360.0,580.0 420,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,420 Q 420.0,460.0 540,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,420 Q 420.0,280.0 540,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,420 Q 300.0,340.0 300,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,420 Q 420.0,400.0 540,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,420 Q 420.0,640.0 540,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,420 Q 600.0,400.0 900,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 360.0,640.0 420,780"
                      data-choice="Travel to Ethereal Bridge (‚Üí Ethereal Bridge)" />
            
                <path class="connection" d="M 300,540 Q 480.0,520.0 660,540"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,540 Q 480.0,400.0 660,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,540 Q 540.0,520.0 780,540"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,540 Q 480.0,580.0 660,660"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,540 Q 420.0,400.0 540,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,540 Q 540.0,400.0 780,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,540 Q 360.0,700.0 420,900"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 300,540 Q 540.0,460.0 780,420"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 300,540 Q 480.0,640.0 660,780"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 300,540 Q 300.0,700.0 300,900"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 300,540 Q 360.0,400.0 420,300"
                      data-choice="Return to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 300,540 Q 360.0,460.0 420,420"
                      data-choice="Return to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 300,540 Q 420.0,580.0 540,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 360.0,520.0 420,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 420.0,640.0 540,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 480.0,460.0 660,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 360.0,400.0 420,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 360.0,460.0 420,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 420.0,520.0 540,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 420.0,340.0 540,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 300.0,400.0 300,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 540.0,580.0 780,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,540 Q 360.0,580.0 420,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,420 Q 600.0,340.0 420,300"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 780,420 Q 600.0,400.0 420,420"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 780,420 Q 720.0,460.0 660,540"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 780,420 Q 720.0,340.0 660,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 780,420 Q 780.0,460.0 780,540"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 780,420 Q 720.0,520.0 660,660"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 780,420 Q 660.0,340.0 540,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 780,420 Q 780.0,340.0 780,300"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 780,420 Q 600.0,640.0 420,900"
                      data-choice="Travel to Somnos (‚Üí Somnos)" />
            
                <path class="connection" d="M 780,420 Q 540.0,460.0 300,540"
                      data-choice="Travel to Celestial Amphitheater (‚Üí Celestial Amphitheater)" />
            
                <path class="connection" d="M 780,420 Q 480.0,400.0 180,420"
                      data-choice="Travel to Celestial Amphitheater (‚Üí Celestial Amphitheater)" />
            
                <path class="connection" d="M 780,420 Q 660.0,460.0 540,540"
                      data-choice="Return to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 780,420 Q 660.0,280.0 540,180"
                      data-choice="Return to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 780,420 Q 540.0,340.0 300,300"
                      data-choice="Return to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 780,420 Q 540.0,460.0 300,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,420 Q 480.0,400.0 180,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,420 Q 540.0,520.0 300,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,420 Q 660.0,400.0 540,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,420 Q 660.0,640.0 540,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,420 Q 840.0,400.0 900,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 780,420 Q 600.0,580.0 420,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,660 Q 540.0,580.0 540,540"
                      data-choice="Travel to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 540,660 Q 540.0,400.0 540,180"
                      data-choice="Travel to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 540,660 Q 420.0,460.0 300,300"
                      data-choice="Travel to Reverie Forest (‚Üí Reverie Forest)" />
            
                <path class="connection" d="M 540,660 Q 480.0,460.0 420,300"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 540,660 Q 480.0,520.0 420,420"
                      data-choice="Travel to Veil of Possibilities (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 540,660 Q 540.0,520.0 540,420"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 540,660 Q 540.0,760.0 540,900"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 540,660 Q 720.0,520.0 900,420"
                      data-choice="Travel to Lucid Caves (‚Üí Lucid Caves)" />
            
                <path class="connection" d="M 540,660 Q 420.0,520.0 300,420"
                      data-choice="Return to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 540,660 Q 480.0,400.0 420,180"
                      data-choice="Return to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 540,660 Q 420.0,700.0 300,780"
                      data-choice="Return to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 540,660 Q 420.0,520.0 300,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,660 Q 480.0,400.0 420,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,660 Q 420.0,700.0 300,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,660 Q 420.0,580.0 300,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,660 Q 360.0,520.0 180,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,660 Q 480.0,460.0 420,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,660 Q 480.0,520.0 420,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,660 Q 660.0,640.0 780,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 540,660 Q 480.0,640.0 420,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 360.0,340.0 300,420"
                      data-choice="Travel to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 420,300 Q 420.0,220.0 420,180"
                      data-choice="Travel to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 420,300 Q 360.0,520.0 300,780"
                      data-choice="Travel to Dreamweaver's Library (‚Üí Dreamweaver's Library)" />
            
                <path class="connection" d="M 420,300 Q 600.0,340.0 780,420"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 420,300 Q 540.0,520.0 660,780"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 420,300 Q 360.0,580.0 300,900"
                      data-choice="Travel to Chamber of Destinies (‚Üí Chamber of Destinies)" />
            
                <path class="connection" d="M 420,300 Q 360.0,400.0 300,540"
                      data-choice="Travel to Celestial Amphitheater (‚Üí Celestial Amphitheater)" />
            
                <path class="connection" d="M 420,300 Q 300.0,340.0 180,420"
                      data-choice="Travel to Celestial Amphitheater (‚Üí Celestial Amphitheater)" />
            
                <path class="connection" d="M 420,300 Q 600.0,460.0 780,660"
                      data-choice="Return to Glimmering Oasis (‚Üí Glimmering Oasis)" />
            
                <path class="connection" d="M 420,300 Q 420.0,460.0 420,660"
                      data-choice="Return to Glimmering Oasis (‚Üí Glimmering Oasis)" />
            
                <path class="connection" d="M 420,300 Q 360.0,460.0 300,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 480.0,340.0 540,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 480.0,580.0 540,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 660.0,340.0 900,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 600.0,340.0 780,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 540.0,520.0 660,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 360.0,580.0 300,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 540.0,400.0 660,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 540.0,280.0 660,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 600.0,400.0 780,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 540.0,460.0 660,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 480.0,280.0 540,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 600.0,280.0 780,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,300 Q 420.0,580.0 420,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,420 Q 420.0,340.0 420,300"
                      data-choice="Step into the Veil of Possibilities, where dreams take form and unravel (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 420,420 Q 420.0,400.0 420,420"
                      data-choice="Step into the Veil of Possibilities, where dreams take form and unravel (‚Üí Veil of Possibilities)" />
            
                <path class="connection" d="M 420,420 Q 360.0,460.0 300,540"
                      data-choice="Listen to the celestial symphony at the Celestial Amphitheater, where stars themselves perform (‚Üí Celestial Amphitheater)" />
            
                <path class="connection" d="M 420,420 Q 300.0,400.0 180,420"
                      data-choice="Listen to the celestial symphony at the Celestial Amphitheater, where stars themselves perform (‚Üí Celestial Amphitheater)" />
            
                <path class="connection" d="M 300,660 Q 540.0,520.0 780,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 480.0,700.0 660,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 300.0,760.0 300,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 300.0,580.0 300,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 240.0,520.0 180,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 300.0,520.0 300,420"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 360.0,400.0 420,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 300.0,700.0 300,780"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 420.0,580.0 540,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 420.0,400.0 540,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,660 Q 300.0,460.0 300,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,780 Q 480.0,640.0 660,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,780 Q 480.0,520.0 660,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,780 Q 540.0,640.0 780,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,780 Q 480.0,700.0 660,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,780 Q 420.0,520.0 540,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,780 Q 540.0,520.0 780,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,780 Q 360.0,820.0 420,900"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,900 Q 420.0,700.0 540,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,900 Q 420.0,520.0 540,180"
                      data-choice="Continue" />
            
                <path class="connection" d="M 300,900 Q 300.0,580.0 300,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,900 Q 540.0,700.0 660,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,900 Q 540.0,580.0 660,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,900 Q 600.0,700.0 780,540"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,900 Q 540.0,760.0 660,660"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,900 Q 480.0,580.0 540,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,900 Q 600.0,580.0 780,300"
                      data-choice="Continue" />
            
                <path class="connection" d="M 420,900 Q 420.0,880.0 420,900"
                      data-choice="Continue" />
            
                <!-- Storylets -->
                <g class="storylet" data-id="1" data-tooltip="Title: The Nexus of Dreams\nID: 1\nPosition: (1, 1)\nRequires: {'location': 'Somnos'}\nChoices: 10\nWeight: 1.0">
                    <circle cx="660" cy="540" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="660" y="540" class="storylet-text">The Nexus of...</text>
                </g>
            
                <g class="storylet" data-id="2" data-tooltip="Title: Whispers of the Reverie Forest\nID: 2\nPosition: (0, 1)\nRequires: {'location': 'Reverie Forest'}\nChoices: 10\nWeight: 1.0">
                    <circle cx="540" cy="540" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="540" y="540" class="storylet-text">Whispers of ...</text>
                </g>
            
                <g class="storylet" data-id="3" data-tooltip="Title: The Broken Loom\nID: 3\nPosition: (1, -1)\nRequires: {'location': 'Somnos'}\nChoices: 2\nWeight: 1.0">
                    <circle cx="660" cy="300" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="660" y="300" class="storylet-text">The Broken L...</text>
                </g>
            
                <g class="storylet" data-id="4" data-tooltip="Title: Echoes of a Forgotten Tale\nID: 4\nPosition: (0, 0)\nRequires: {'location': 'Lucid Caves'}\nChoices: 10\nWeight: 1.0">
                    <circle cx="540" cy="420" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="540" y="420" class="storylet-text">Echoes of a ...</text>
                </g>
            
                <g class="storylet" data-id="5" data-tooltip="Title: The Weaver's Conclave\nID: 5\nPosition: (2, 1)\nRequires: {'location': 'Somnos'}\nChoices: 2\nWeight: 1.0">
                    <circle cx="780" cy="540" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="780" y="540" class="storylet-text">The Weaver's...</text>
                </g>
            
                <g class="storylet" data-id="6" data-tooltip="Title: A Dreamer's Plea\nID: 6\nPosition: (1, 2)\nRequires: {'location': 'Somnos'}\nChoices: 2\nWeight: 1.0">
                    <circle cx="660" cy="660" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="660" y="660" class="storylet-text">A Dreamer's ...</text>
                </g>
            
                <g class="storylet" data-id="7" data-tooltip="Title: The Bridge Between Worlds\nID: 7\nPosition: (-1, 3)\nRequires: {'location': 'Ethereal Bridge'}\nChoices: 10\nWeight: 1.0">
                    <circle cx="420" cy="780" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="420" y="780" class="storylet-text">The Bridge B...</text>
                </g>
            
                <g class="storylet" data-id="8" data-tooltip="Title: The Keeper of Threads\nID: 8\nPosition: (0, -1)\nRequires: {'location': 'Somnos'}\nChoices: 2\nWeight: 1.0">
                    <circle cx="540" cy="300" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="540" y="300" class="storylet-text">The Keeper o...</text>
                </g>
            
                <g class="storylet" data-id="9" data-tooltip="Title: A Glimpse into the Unseen\nID: 9\nPosition: (2, 2)\nRequires: {'location': 'Glimmering Oasis'}\nChoices: 9\nWeight: 1.0">
                    <circle cx="780" cy="660" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="780" y="660" class="storylet-text">A Glimpse in...</text>
                </g>
            
                <g class="storylet" data-id="10" data-tooltip="Title: The Chimera's Dream\nID: 10\nPosition: (0, -2)\nRequires: {'location': 'Reverie Forest'}\nChoices: 2\nWeight: 1.0">
                    <circle cx="540" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="540" y="180" class="storylet-text">The Chimera'...</text>
                </g>
            
                <g class="storylet" data-id="11" data-tooltip="Title: The Shattered Mirror\nID: 11\nPosition: (-2, 0)\nRequires: {'location': "Dreamweaver's Library"}\nChoices: 10\nWeight: 1.0">
                    <circle cx="300" cy="420" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="300" y="420" class="storylet-text">The Shattere...</text>
                </g>
            
                <g class="storylet" data-id="12" data-tooltip="Title: The Song of the Infinite\nID: 12\nPosition: (-2, 1)\nRequires: {'location': 'Celestial Amphitheater'}\nChoices: 10\nWeight: 1.0">
                    <circle cx="300" cy="540" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="300" y="540" class="storylet-text">The Song of ...</text>
                </g>
            
                <g class="storylet" data-id="13" data-tooltip="Title: Threads of Destiny\nID: 13\nPosition: (2, 0)\nRequires: {'location': 'Chamber of Destinies'}\nChoices: 10\nWeight: 1.0">
                    <circle cx="780" cy="420" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="780" y="420" class="storylet-text">Threads of D...</text>
                </g>
            
                <g class="storylet" data-id="14" data-tooltip="Title: The Eternal Watcher\nID: 14\nPosition: (0, 2)\nRequires: {'location': 'Spire of Timeless Dreams'}\nChoices: 10\nWeight: 1.0">
                    <circle cx="540" cy="660" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="540" y="660" class="storylet-text">The Eternal ...</text>
                </g>
            
                <g class="storylet" data-id="15" data-tooltip="Title: Unraveling the Veil\nID: 15\nPosition: (-1, -1)\nRequires: {'location': 'Veil of Possibilities'}\nChoices: 10\nWeight: 1.0">
                    <circle cx="420" cy="300" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="420" y="300" class="storylet-text">Unraveling t...</text>
                </g>
            
                <g class="storylet" data-id="16" data-tooltip="Title: Threads of the Dreamweaver\nID: 16\nPosition: (-1, 0)\nRequires: {'location': 'Veil of Possibilities'}\nChoices: 2\nWeight: 2.0">
                    <circle cx="420" cy="420" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="420" y="420" class="storylet-text">Threads of t...</text>
                </g>
            
                <g class="storylet" data-id="17" data-tooltip="Title: Spectral Connections Advantage\nID: 17\nPosition: (-1, 1)\nRequires: {'location': 'Spire of Timeless Dreams', 'spectral_connections': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="420" cy="540" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="420" y="540" class="storylet-text">Spectral Con...</text>
                </g>
            
                <g class="storylet" data-id="18" data-tooltip="Title: Harmonic Mastery Advantage\nID: 18\nPosition: (0, 3)\nRequires: {'location': 'Spire of Timeless Dreams', 'harmonic_mastery': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="540" cy="780" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="540" y="780" class="storylet-text">Harmonic Mas...</text>
                </g>
            
                <g class="storylet" data-id="19" data-tooltip="Title: Role Recognition\nID: 19\nPosition: (-2, 2)\nRequires: {'location': 'Clan Hall', 'player_role': 1}\nChoices: 5\nWeight: 1.0">
                    <circle cx="300" cy="660" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="300" y="660" class="storylet-text">Role Recogni...</text>
                </g>
            
                <g class="storylet" data-id="20" data-tooltip="Title: Cosmic Reputation Advantage\nID: 20\nPosition: (2, -1)\nRequires: {'location': 'Somnos', 'cosmic_reputation': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="780" cy="300" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="780" y="300" class="storylet-text">Cosmic Reput...</text>
                </g>
            
                <g class="storylet" data-id="21" data-tooltip="Title: Reality Threads Advantage\nID: 21\nPosition: (0, 4)\nRequires: {'location': 'Lucid Caves', 'reality_threads': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="540" cy="900" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="540" y="900" class="storylet-text">Reality Thre...</text>
                </g>
            
                <g class="storylet" data-id="22" data-tooltip="Title: Dream Essence Advantage\nID: 22\nPosition: (1, 3)\nRequires: {'location': 'Chamber of Destinies', 'dream_essence': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="660" cy="780" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="660" y="780" class="storylet-text">Dream Essenc...</text>
                </g>
            
                <g class="storylet" data-id="23" data-tooltip="Title: Weaving Skill Advantage\nID: 23\nPosition: (-1, 2)\nRequires: {'location': 'Glimmering Oasis', 'weaving_skill': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="420" cy="660" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="420" y="660" class="storylet-text">Weaving Skil...</text>
                </g>
            
                <g class="storylet" data-id="24" data-tooltip="Title: Stellar Knowledge Advantage\nID: 24\nPosition: (1, 0)\nRequires: {'location': 'Spire of Timeless Dreams', 'stellar_knowledge': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="660" cy="420" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="660" y="420" class="storylet-text">Stellar Know...</text>
                </g>
            
                <g class="storylet" data-id="25" data-tooltip="Title: Ethereal Power Advantage\nID: 25\nPosition: (3, 0)\nRequires: {'location': 'Lucid Caves', 'ethereal_power': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="900" cy="420" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="900" y="420" class="storylet-text">Ethereal Pow...</text>
                </g>
            
                <g class="storylet" data-id="26" data-tooltip="Title: Planar Knowledge Advantage\nID: 26\nPosition: (-1, -2)\nRequires: {'location': "Dreamweaver's Library", 'planar_knowledge': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="420" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="420" y="180" class="storylet-text">Planar Knowl...</text>
                </g>
            
                <g class="storylet" data-id="27" data-tooltip="Title: Void Attunement Advantage\nID: 27\nPosition: (-3, 0)\nRequires: {'location': 'Celestial Amphitheater', 'void_attunement': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="180" cy="420" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="420" class="storylet-text">Void Attunem...</text>
                </g>
            
                <g class="storylet" data-id="28" data-tooltip="Title: Dimensional Stability Advantage\nID: 28\nPosition: (-2, -1)\nRequires: {'location': 'Reverie Forest', 'dimensional_stability': 1}\nChoices: 1\nWeight: 1.0">
                    <circle cx="300" cy="300" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="300" y="300" class="storylet-text">Dimensional ...</text>
                </g>
            
                <g class="storylet" data-id="29" data-tooltip="Title: The Dreamweaver's Call\nID: 29\nPosition: (-2, 3)\nRequires: {'weaving_skill': 'basic', 'location': "Dreamweaver's Library"}\nChoices: 1\nWeight: 1.0">
                    <circle cx="300" cy="780" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="300" y="780" class="storylet-text">The Dreamwea...</text>
                </g>
            
                <g class="storylet" data-id="30" data-tooltip="Title: The Path to Mastery\nID: 30\nPosition: (-2, 4)\nRequires: {'weaving_skill': 'basic', 'location': 'Chamber of Destinies'}\nChoices: 1\nWeight: 1.0">
                    <circle cx="300" cy="900" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="300" y="900" class="storylet-text">The Path to ...</text>
                </g>
            
                <g class="storylet" data-id="31" data-tooltip="Title: Path to Mastery\nID: 31\nPosition: (-1, 4)\nRequires: {'weaving_skill': 'basic', 'location': 'Somnos'}\nChoices: 1\nWeight: 1.0">
                    <circle cx="420" cy="900" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="420" y="900" class="storylet-text">Path to Mast...</text>
                </g>
            
            </svg>
        </div>
        
        <div class="legend">
            <h3>Legend</h3>
            <div class="legend-item">
                <div class="legend-color" style="background: #27ae60;"></div>
                <span>Location-based storylets</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #e74c3c;"></div>
                <span>Danger-based storylets</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f39c12;"></div>
                <span>Other requirements</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #667eea;"></div>
                <span>No requirements</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #feca57;"></div>
                <span>Choice connections (arrows)</span>
            </div>
        </div>
        
        <div class="tooltip" id="tooltip"></div>
    </div>
    
    <script>
        const tooltip = document.getElementById('tooltip');
        const storylets = document.querySelectorAll('.storylet');
        
        storylets.forEach(storylet => {
            storylet.addEventListener('mouseenter', (e) => {
                const tooltipText = e.currentTarget.getAttribute('data-tooltip');
                tooltip.innerHTML = tooltipText.replace(/\n/g, '<br>');
                tooltip.style.opacity = '1';
            });
            
            storylet.addEventListener('mousemove', (e) => {
                tooltip.style.left = e.pageX + 10 + 'px';
                tooltip.style.top = e.pageY + 10 + 'px';
            });
            
            storylet.addEventListener('mouseleave', () => {
                tooltip.style.opacity = '0';
            });
        });
    </script>
</body>
</html>
        